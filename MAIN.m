clc
clear

lb = [...
      0 0 0 0.25 0 ...
      0 0.8 0 0.1 -5 ... % 
      0 2.1 0 0.04 -5 ...
      0 2.1 0 0.04 -5 ...
      0 2.1 0 0.04 -5 ...
      0 2.1 0 0.02 -5 ...
    ];

ub = [...
      0 0 0 1.0 0 ...
      0.3 2.0 0.3 1.0 5 ... 
      0.4 2.8 0.6 0.5 5 ...
      0.4 2.8 0.9 0.3 5 ...
      0.4 2.8 0.9 0.3 5 ...
      0.4 2.8 0.9 0.2 5 ...
    ];


A = [... 
    1 0 0 0 0 ...
    -1 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...
    
    0 0 0 0 0 ...
    1 0 0 0 0 ...
    -1 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...

    0 0 0 0 0 ...
    0 0 0 0 0 ...
    1 0 0 0 0 ...
    -1 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    1 0 0 0 0 ...
    -1 0 0 0 0 ...
    0 0 0 0 0; ...

    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    1 0 0 0 0 ...
    -1 0 0 0 0; ...
    
    0 1 0 0 0 ...
    0 -1 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...
    
    0 0 0 0 0 ...
    0 1 0 0 0 ...
    0 -1 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 1 0 0 0 ...
    0 -1 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 1 0 0 0 ...
    0 -1 0 0 0 ...
    0 0 0 0 0; ...    
     
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 1 0 0 0 ...
    0 -1 0 0 0; ...    
    
    0 0 1 0 0 ...
    0 0 -1 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...    

    0 0 0 0 0 ...
    0 0 1 0 0 ...
    0 0 -1 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 1 0 0 ...
    0 0 -1 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 1 0 0 ...
    0 0 -1 0 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 1 0 0 ...
    0 0 -1 0 0; ...   
    
    0 0 0 -1 0 ...
    0 0 0 1 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 -1 0 ...
    0 0 0 1 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 -1 0 ...
    0 0 0 1 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 -1 0 ...
    0 0 0 1 0 ...
    0 0 0 0 0; ...    
    
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 0 0 ...
    0 0 0 -1 0 ...
    0 0 0 1 0; ...   
    
    ];

b = [...
    0;
    0; 
    0; 
    0;
    0;
    
    -0.1;
    -0.1;
    -0.05;
    -0.015;
    -0.015;
    
    0;
    0;
    0;
    -0.01;
    -0.01;
    
    0;
    0;
    0;
    0;
    0;
    ];

Aeq = [];
beq = [];

nvars = 30;
TolCon_Data = 1e-6; 
TolFun_Data = 1e-08;

options = gaoptimset;
options = gaoptimset(options,'TolFun', TolFun_Data);
% options = gaoptimset(options,'CrossoverFraction', 0.5);
options = gaoptimset(options,'Display', 'iter');
% options = gaoptimset(options,'InitialPopulation', Seed);
options = gaoptimset(options,'PlotFcns', {  @gaplotbestf @gaplotbestindiv @gaplotexpectation @gaplotscorediversity @gaplotstopping });
options = gaoptimset(options,'Vectorized', 'off');
options = gaoptimset(options,'UseParallel', 1 );
options = gaoptimset(options,'Generations',1000,'StallGenLimit', 50);
[x,fval,exitflag,output,population,score] = gamultiobj(@fcnOBJFUNC,nvars,A,b,Aeq,beq,lb,ub,[],options);